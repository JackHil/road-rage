# TODO #

### Map building ###

- style: xml out could be string.format or xml and then stringify
- deal with densely clustered line segments
- cul-de-sac handling in p2... needed?
  - Claus Circle in BR... has no outgoing turns.
- pregraph3 vs final graph structure?
- deal with disconnected things properly
- multi-lane situations dont have enough turns, and we need to do more trimming!
- scc removal appears broken in Houston?
- lines arent deterministic?! small floating pt variation...
- interstates are so broken...
- document stuff, code-freeze on mapgen!

### Wards ###

- whats broken with mikes?
  - length
  - overall strategy
  - semantics of one of the set operations
- find 'major' roads better
  - crosses/links major roads
  - manually editing
  - update osm (scripts!)
- my wards!
  - guarantee some kind of connectedness within a ward
  - deal with the small roads that cut through?

### UI ###

- show routes better
- conflicts dont look correct
- config
- menu items doing stuff
- oneways look wretched
- make it look nicer
  - UI polishing
  - black road backgrounds dont meet up smoothly since we go by line segment
    - add extra lanes on either side, dont color them white, but draw the stuff in between?
- figure out why broken_angle and y inversion everywhere still...
- way better pruning of what to (re-draw) using quadtrees
  - but is it even needed?
- keyboard-grabbing focus is... greedy when minimized

### Agents ###

- old static behavior
  - detect collisions
    - actual agent queue semantics, spawning them safely
  - ... motivate reactive solution: avoid collisions!
  - lanechanging model
- delegate pricy work to a thread pool
- spawning specifically in UI
- allow accel control too
- dimensions to the cars

### Scalaisms ###

- move all configable things to Util
- use ListBuffers more.
- make more immutable things
- reduce more vars to vals
- improve build system (dont recompile)
- Edges as subclasses for direxn might be nice
- make everything possible immutable, but then have to figure out how to build
  inter-referential things
  - have more ids and methods that access based on those. that'll break it.
- explicitly override hashcode?
- modularity of Edge/Edge with agent queues is... messy, and separate lookups arent the best answer.

### Simulation ###

- tolling?
- reversal?
- spawning realistic traffic patterns
